{"version":3,"sources":["Main.js"],"names":[],"mappings":"AAAA;;;;AAIA;AACA,SAAQ,cAAR,QAA6B,6BAA7B;AACA,SAAQ,UAAR,QAAyB,4BAAzB;AACA,SAAQ,IAAR,QAAmB,sBAAnB;AACA,SAAQ,SAAR,QAAwB,wBAAxB;AACA,SAAQ,QAAR,QAAuB,kBAAvB;AACA,OAAO,MAAM,IAAN,CAAW;AACd,kBAAc;AACV,aAAK,MAAL,GAAc,SAAS,cAAT,CAAwB,aAAxB,CAAd;AACA;AACA;AACA,aAAK,GAAL,GAAW,KAAK,MAAL,CAAY,UAAZ,CAAuB,IAAvB,CAAX;AACA,YAAI,KAAK,GAAT;AACA,aAAK,SAAL,GAAiB,UAAU,WAAV,EAAjB;AACA;AACA,YAAI,KAAK,SAAT;AACA,cAAO,SAAS,eAAe,MAAf,EAAhB;AACA;;AAEA,eAAO,QAAP,CAAgB,OAAO,KAAK,qBAAL,CAA2B,GAA3B,CAAvB;AACH;;AAED,0BAAsB,GAAtB,EAA2B;AACvB,aAAK,SAAL,CAAe,GAAf,GAAqB,KAAK,GAA1B;AACA,aAAK,SAAL,CAAe,GAAf,GAAqB,GAArB;AACA;AACA,aAAK,IAAL;AACA;AACH;AACD,WAAO;AACH,aAAK,SAAL,CACK,GADL,CACS,YADT,EACsB,UADtB,EAEK,GAFL,CAES,MAFT,EAEgB,IAFhB,EAGK,GAHL,CAGS,SAHT,EAGoB,EAHpB;AAIA;AACA,iBAAS,WAAT,GAAuB,GAAvB;AACH;AA9Ba","file":"Main-compiled.js","sourcesContent":["/**\n * @Date:   2018-03-20T17:41:08+08:00\n * @Last modified time: 2018-03-20T20:08:53+08:00\n */\n//初始化整个游戏的精灵，作为游戏开始的入口\nimport {ResourceLoader} from \"./js/base/ResourceLoader.js\";\nimport {BackGround} from \"./js/runtime/BackGround.js\";\nimport {Land} from \"./js/runtime/Land.js\";\nimport {DataStore} from \"./js/base/DataStore.js\";\nimport {Director} from \"./js/Director.js\";\nexport class Main {\n    constructor() {\n        this.canvas = document.getElementById('game_canvas');\n        //context相当于一个画笔，联系画布和逻辑\n        //画布上绘图的环境\n        this.ctx = this.canvas.getContext('2d');\n        log(this.ctx)\n        this.dataStore = DataStore.getInstance()\n        //this.director = Director.getInstance()\n        log(this.dataStore)\n        const  loader = ResourceLoader.create()\n        //这条有问题\n\n        loader.onLoaded(map => this.onResourceFirstLoaded(map));\n    }\n\n    onResourceFirstLoaded(map) {\n        this.dataStore.ctx = this.ctx\n        this.dataStore.res = map\n        //console.log(map);\n        this.init();\n        //log('123123')\n    }\n    init() {\n        this.dataStore\n            .put('background',BackGround)\n            .put('land',Land)\n            .put('pencils', []);\n        //创建铅笔要在游戏逻辑运行之前\n        Director.getInstance().run()\n    }\n}\n"]}